<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Lizard Spock - Online Multiplayer</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>
</head>
<body>
    <div class="app">
        <header class="header">
            <div class="container">
                <h1 class="game-title">üóøüìÑ‚úÇÔ∏èü¶éüññ Rock Paper Scissors Lizard Spock</h1>
                
                <!-- Firebase Connection Status -->
                <div class="connection-status" id="connection-status">
                    <div class="status-indicator" id="status-indicator">
                        <span class="status-dot" id="status-dot"></span>
                        <span class="status-text" id="status-text">Connecting to Firebase...</span>
                    </div>
                </div>
                
                <nav class="nav" id="main-nav">
                    <button class="btn btn--outline nav-btn" data-section="main-menu">Main Menu</button>
                </nav>
            </div>
        </header>

        <main class="main">
            <div class="container">
                <!-- Firebase Configuration Notice -->
                <div id="firebase-config-notice" class="config-notice hidden">
                    <h3>‚ö†Ô∏è Firebase Configuration Required</h3>
                    <p>To use online multiplayer features, you need to configure Firebase. The app is currently running in local mode only.</p>
                    <details class="config-details">
                        <summary>Click here for setup instructions</summary>
                        <div class="config-content">
                            <h4>Step 1: Create Firebase Project</h4>
                            <ol>
                                <li>Go to <a href="https://console.firebase.google.com" target="_blank">Firebase Console</a></li>
                                <li>Click "Create a project" and follow the setup wizard</li>
                                <li>Enable Realtime Database in "Build" > "Realtime Database"</li>
                                <li>Start in test mode for development</li>
                            </ol>
                            
                            <h4>Step 2: Get Configuration</h4>
                            <ol>
                                <li>In Firebase Console, go to Project Settings (gear icon)</li>
                                <li>Scroll to "Your apps" section</li>
                                <li>Click "Web app" and register your app</li>
                                <li>Copy the config object</li>
                            </ol>
                            
                            <h4>Step 3: Update app.js</h4>
                            <p>Replace the placeholder config in app.js with your Firebase config:</p>
                            <pre><code>const firebaseConfig = {
  apiKey: "your-actual-api-key",
  authDomain: "your-project.firebaseapp.com",
  databaseURL: "https://your-project-default-rtdb.firebaseio.com/",
  projectId: "your-project-id",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "your-actual-app-id"
};</code></pre>
                            
                            <h4>Step 4: Database Security Rules</h4>
                            <p>In Realtime Database Rules, use these rules for development:</p>
                            <pre><code>{
  "rules": {
    "rooms": {
      "$roomId": {
        ".read": true,
        ".write": true
      }
    },
    "leaderboard": {
      ".read": true,
      ".write": true
    },
    "gameHistory": {
      ".read": true,
      ".write": true
    }
  }
}</code></pre>
                        </div>
                    </details>
                </div>

                <!-- Main Menu Section -->
                <section id="main-menu" class="section active">
                    <div class="menu-grid">
                        <button class="menu-card" data-section="create-game">
                            <div class="menu-card__icon">üéÆ</div>
                            <h3>Create Game</h3>
                            <p>Start a new game vs Computer or Online</p>
                        </button>
                        
                        <button class="menu-card" data-section="join-game">
                            <div class="menu-card__icon">üåê</div>
                            <h3>Join Game</h3>
                            <p>Join an existing online game</p>
                            <div class="online-indicator" id="join-online-indicator">
                                <span class="indicator-dot"></span>
                                <span>Online features available</span>
                            </div>
                        </button>
                        
                        <button class="menu-card" data-section="rules">
                            <div class="menu-card__icon">üìñ</div>
                            <h3>Rules</h3>
                            <p>Learn how to play the game</p>
                        </button>
                        
                        <button class="menu-card" data-section="leaderboard">
                            <div class="menu-card__icon">üèÜ</div>
                            <h3>Global Leaderboard</h3>
                            <p>View top players worldwide</p>
                            <div class="online-indicator" id="leaderboard-online-indicator">
                                <span class="indicator-dot"></span>
                                <span>Synced with Firebase</span>
                            </div>
                        </button>
                        
                        <button class="menu-card" data-section="feedback">
                            <div class="menu-card__icon">üí≠</div>
                            <h3>Feedback</h3>
                            <p>Share your thoughts about the game</p>
                        </button>
                    </div>
                </section>

                <!-- Create Game Section -->
                <section id="create-game" class="section">
                    <h2>Create Game</h2>
                    
                    <div class="game-setup">
                        <div class="form-group">
                            <label class="form-label">Game Mode</label>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="gameMode" value="local" checked>
                                    <span>Local (vs Computer)</span>
                                </label>
                                <label class="radio-label" id="online-mode-option">
                                    <input type="radio" name="gameMode" value="online" disabled>
                                    <span>Online (vs Player)</span>
                                    <small class="mode-status">Requires Firebase setup</small>
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="gameCount">Number of Games</label>
                            <select id="gameCount" class="form-control">
                                <option value="1">1 Game</option>
                                <option value="3" selected>Best of 3</option>
                                <option value="5">Best of 5</option>
                                <option value="10">Best of 10</option>
                                <option value="-1">Unlimited</option>
                            </select>
                        </div>

                        <div class="form-group" id="difficulty-group">
                            <label class="form-label" for="difficulty">Difficulty</label>
                            <select id="difficulty" class="form-control">
                                <option value="easy">Easy - Random choices</option>
                                <option value="medium" selected>Medium - Pattern learning</option>
                                <option value="hard">Hard - Advanced AI</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="playerName">Your Name</label>
                            <input type="text" id="playerName" class="form-control" placeholder="Enter your name" value="Player 1">
                        </div>

                        <div id="room-code-display" class="room-code hidden">
                            <div class="room-header">
                                <h3>üéÆ Room Created</h3>
                                <div class="room-status" id="room-status">
                                    <span class="status-indicator">
                                        <span class="status-dot waiting"></span>
                                        <span>Waiting for player...</span>
                                    </span>
                                </div>
                            </div>
                            <div class="code-display">
                                <span id="room-code-text"></span>
                                <button id="copy-code" class="btn btn--secondary btn--sm">Copy Code</button>
                            </div>
                            <p class="help-text">Share this code with another player to join your game</p>
                            
                            <div class="room-info" id="room-info">
                                <div class="player-list">
                                    <div class="player-slot">
                                        <span class="player-icon">üéÆ</span>
                                        <span id="host-name">You (Host)</span>
                                        <span class="player-status ready">Ready</span>
                                    </div>
                                    <div class="player-slot" id="guest-slot">
                                        <span class="player-icon">üë§</span>
                                        <span>Waiting for player...</span>
                                        <span class="player-status waiting">Waiting</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button id="start-game" class="btn btn--primary btn--full-width">
                            <span class="btn-text">Start Game</span>
                            <span class="btn-loading hidden">Creating room...</span>
                        </button>
                    </div>
                </section>

                <!-- Join Game Section -->
                <section id="join-game" class="section">
                    <h2>Join Online Game</h2>
                    
                    <div class="join-form">
                        <div class="form-group">
                            <label class="form-label" for="join-player-name">Your Name</label>
                            <input type="text" id="join-player-name" class="form-control" placeholder="Enter your name" value="Player 2">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="room-code-input">Room Code</label>
                            <input type="text" id="room-code-input" class="form-control" placeholder="Enter 6-digit room code" maxlength="6">
                        </div>
                        
                        <button id="join-game-btn" class="btn btn--primary btn--full-width">
                            <span class="btn-text">Join Game</span>
                            <span class="btn-loading hidden">Joining room...</span>
                        </button>
                        
                        <div id="join-status" class="status-message hidden"></div>
                    </div>

                    <div id="firebase-offline-notice" class="offline-notice hidden">
                        <h3>üîå Firebase Not Available</h3>
                        <p>Online multiplayer requires Firebase setup. You can still play locally against the computer.</p>
                        <button class="btn btn--outline" data-section="create-game">Play vs Computer</button>
                    </div>
                </section>

                <!-- Game Interface -->
                <section id="game-play" class="section">
                    <div class="game-header">
                        <div class="score-board">
                            <div class="score-item">
                                <span class="score-label" id="player1-name">You</span>
                                <span class="score-value" id="player1-score">0</span>
                            </div>
                            <div class="score-divider">vs</div>
                            <div class="score-item">
                                <span class="score-label" id="player2-name">Computer</span>
                                <span class="score-value" id="player2-score">0</span>
                            </div>
                        </div>
                        
                        <div class="game-progress">
                            <span id="game-progress-text">Round 1</span>
                        </div>

                        <!-- Online Game Status -->
                        <div class="online-game-status" id="online-game-status">
                            <div class="connection-indicator">
                                <span class="status-dot connected" id="game-connection-dot"></span>
                                <span id="game-connection-text">Connected</span>
                            </div>
                        </div>
                    </div>

                    <div class="game-area">
                        <div class="choices-display">
                            <div class="choice-result">
                                <div class="choice-icon" id="player1-choice">?</div>
                                <div class="choice-name" id="player1-choice-name">Make your choice</div>
                                <div class="choice-status" id="player1-status"></div>
                            </div>
                            
                            <div class="vs-indicator">VS</div>
                            
                            <div class="choice-result">
                                <div class="choice-icon" id="player2-choice">?</div>
                                <div class="choice-name" id="player2-choice-name">Waiting...</div>
                                <div class="choice-status" id="player2-status"></div>
                            </div>
                        </div>

                        <div class="result-message">
                            <h3 id="round-result"></h3>
                            <p id="result-explanation"></p>
                        </div>

                        <div class="choice-buttons" id="choice-buttons">
                            <button class="choice-btn" data-choice="rock">
                                <span class="choice-emoji">üóø</span>
                                <span class="choice-label">Rock</span>
                            </button>
                            <button class="choice-btn" data-choice="paper">
                                <span class="choice-emoji">üìÑ</span>
                                <span class="choice-label">Paper</span>
                            </button>
                            <button class="choice-btn" data-choice="scissors">
                                <span class="choice-emoji">‚úÇÔ∏è</span>
                                <span class="choice-label">Scissors</span>
                            </button>
                            <button class="choice-btn" data-choice="lizard">
                                <span class="choice-emoji">ü¶é</span>
                                <span class="choice-label">Lizard</span>
                            </button>
                            <button class="choice-btn" data-choice="spock">
                                <span class="choice-emoji">üññ</span>
                                <span class="choice-label">Spock</span>
                            </button>
                        </div>

                        <div class="waiting-message" id="waiting-message">
                            <div class="waiting-spinner"></div>
                            <p id="waiting-text">Waiting for opponent's choice...</p>
                        </div>

                        <div class="game-controls">
                            <button id="next-round" class="btn btn--primary hidden">Next Round</button>
                            <button id="play-again" class="btn btn--primary hidden">Play Again</button>
                            <button id="quit-game" class="btn btn--outline">Quit Game</button>
                        </div>
                    </div>

                    <div id="game-over-modal" class="modal hidden">
                        <div class="modal-content">
                            <h2 id="game-over-title">Game Over</h2>
                            <div id="final-score"></div>
                            <div class="modal-actions">
                                <button id="play-again-modal" class="btn btn--primary">Play Again</button>
                                <button id="main-menu-modal" class="btn btn--outline">Main Menu</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Rules Section -->
                <section id="rules" class="section">
                    <h2>Game Rules</h2>
                    
                    <div class="rules-content">
                        <p class="rules-intro">Rock Paper Scissors Lizard Spock is an expansion of the classic Rock Paper Scissors game. Each choice defeats two others and is defeated by two others.</p>
                        
                        <div class="rules-grid">
                            <div class="rule-card">
                                <div class="rule-icon">üóø</div>
                                <h3>Rock</h3>
                                <p><strong>Crushes</strong> Lizard and <strong>Crushes</strong> Scissors</p>
                                <small class="rule-detail">Rock wins against Lizard and Scissors</small>
                            </div>
                            
                            <div class="rule-card">
                                <div class="rule-icon">üìÑ</div>
                                <h3>Paper</h3>
                                <p><strong>Covers</strong> Rock and <strong>Disproves</strong> Spock</p>
                                <small class="rule-detail">Paper wins against Rock and Spock</small>
                            </div>
                            
                            <div class="rule-card">
                                <div class="rule-icon">‚úÇÔ∏è</div>
                                <h3>Scissors</h3>
                                <p><strong>Cuts</strong> Paper and <strong>Decapitates</strong> Lizard</p>
                                <small class="rule-detail">Scissors wins against Paper and Lizard</small>
                            </div>
                            
                            <div class="rule-card">
                                <div class="rule-icon">ü¶é</div>
                                <h3>Lizard</h3>
                                <p><strong>Poisons</strong> Spock and <strong>Eats</strong> Paper</p>
                                <small class="rule-detail">Lizard wins against Spock and Paper</small>
                            </div>
                            
                            <div class="rule-card">
                                <div class="rule-icon">üññ</div>
                                <h3>Spock</h3>
                                <p><strong>Smashes</strong> Scissors and <strong>Vaporizes</strong> Rock</p>
                                <small class="rule-detail">Spock wins against Scissors and Rock</small>
                            </div>
                        </div>

                        <div class="rules-summary">
                            <h3>Quick Reference</h3>
                            <ul class="rules-list">
                                <li>üóø Rock crushes ‚úÇÔ∏è Scissors and ü¶é Lizard</li>
                                <li>üìÑ Paper covers üóø Rock and disproves üññ Spock</li>
                                <li>‚úÇÔ∏è Scissors cuts üìÑ Paper and decapitates ü¶é Lizard</li>
                                <li>ü¶é Lizard poisons üññ Spock and eats üìÑ Paper</li>
                                <li>üññ Spock smashes ‚úÇÔ∏è Scissors and vaporizes üóø Rock</li>
                            </ul>
                            
                            <div class="online-features">
                                <h4>üåê Online Multiplayer Features</h4>
                                <ul>
                                    <li><strong>Real-time gameplay:</strong> Instant updates when both players make choices</li>
                                    <li><strong>Room system:</strong> Create private rooms with shareable codes</li>
                                    <li><strong>Global leaderboard:</strong> Track your performance against players worldwide</li>
                                    <li><strong>Connection status:</strong> See when players join, leave, or disconnect</li>
                                    <li><strong>Game history:</strong> All completed games are saved to Firebase</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Feedback Section -->
                <section id="feedback" class="section">
                    <h2>Feedback</h2>
                    
                    <div class="feedback-container">
                        <form id="feedback-form" class="feedback-form">
                            <div class="form-group">
                                <label class="form-label" for="feedback-name">Name (Optional)</label>
                                <input type="text" id="feedback-name" class="form-control" placeholder="Your name">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="feedback-email">Email (Optional)</label>
                                <input type="email" id="feedback-email" class="form-control" placeholder="your.email@example.com">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Rating</label>
                                <div class="star-rating">
                                    <button type="button" class="star active" data-rating="1">‚≠ê</button>
                                    <button type="button" class="star active" data-rating="2">‚≠ê</button>
                                    <button type="button" class="star active" data-rating="3">‚≠ê</button>
                                    <button type="button" class="star active" data-rating="4">‚≠ê</button>
                                    <button type="button" class="star active" data-rating="5">‚≠ê</button>
                                </div>
                                <span class="rating-text">Click to rate (5 stars - Excellent)</span>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="feedback-message">Feedback (Required)</label>
                                <textarea id="feedback-message" class="form-control" rows="5" placeholder="Share your thoughts about the game..." required></textarea>
                            </div>
                            
                            <div class="form-group">
                                <button type="submit" class="btn btn--primary btn--full-width">Submit Feedback</button>
                            </div>
                        </form>
                        
                        <div id="feedback-success" class="success-message hidden">
                            <h3>Thank You! ‚ú®</h3>
                            <p>Your feedback has been submitted successfully. We appreciate your input and will use it to improve the game!</p>
                            <button class="btn btn--outline" data-section="main-menu">Return to Main Menu</button>
                        </div>
                    </div>
                </section>

                <!-- Leaderboard Section -->
                <section id="leaderboard" class="section">
                    <div class="leaderboard-header">
                        <h2>üèÜ Global Leaderboard</h2>
                        <div class="leaderboard-sync-status" id="leaderboard-sync-status">
                            <div class="sync-indicator">
                                <span class="sync-dot" id="sync-dot"></span>
                                <span id="sync-text">Syncing with Firebase...</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="leaderboard-controls">
                        <div class="form-group">
                            <label class="form-label" for="sort-by">Sort by</label>
                            <select id="sort-by" class="form-control">
                                <option value="winPercentage">Win Percentage</option>
                                <option value="totalWins">Total Wins</option>
                                <option value="totalGames">Games Played</option>
                                <option value="winStreak">Current Win Streak</option>
                            </select>
                        </div>

                        <button id="refresh-leaderboard" class="btn btn--outline btn--sm">
                            <span class="refresh-icon">üîÑ</span>
                            Refresh
                        </button>
                    </div>
                    
                    <div class="leaderboard-table">
                        <div class="table-header">
                            <div class="table-cell">Rank</div>
                            <div class="table-cell">Player</div>
                            <div class="table-cell">Win %</div>
                            <div class="table-cell">W/L/T</div>
                            <div class="table-cell">Streak</div>
                        </div>
                        <div id="leaderboard-body" class="table-body">
                            <div class="loading-state" id="leaderboard-loading">
                                <div class="loading-spinner"></div>
                                <p>Loading leaderboard...</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>